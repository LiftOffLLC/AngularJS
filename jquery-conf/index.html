<!doctype html>
<html lang="en">

	<head>
		<meta charset="utf-8">

		<title>jQuery Conf. India - 2015 : Building Large AngularJS Apps - Experience Report</title>

		<meta name="description" content="Building Large 'AngularJS Apps' - Experience Report">
		<meta name="author" content="Bhaskara Kempaiah">

		<meta name="apple-mobile-web-app-capable" content="yes" />
		<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />

		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">

		<link rel="stylesheet" href="css/reveal.css">
		<link rel="stylesheet" href="css/theme/moon.css" id="theme">

		<!-- Code syntax highlighting -->
		<link rel="stylesheet" href="lib/css/zenburn.css">

		<!--[if lt IE 9]>
		<script src="lib/js/html5shiv.js"></script>
		<![endif]-->
	</head>

	<body>

		<div class="reveal">

			<!-- Any section element inside of this container is displayed as a slide -->
			<div class="slides">
				<section>
					<h2>Building Large 'AngularJS Apps'</h2>
					<h3>Experience Report</h3>
					<p>
						<small>Created by <a href="https://in.linkedin.com/in/bhaskarakempaiah">Bhaskara Kempaiah</a>, <a href="http://twitter.com/bhas4">@bhas4</a></small>
					</p>
				</section>

				<section>
					<h2>Agenda</h2>
					<ul>
						<li>Code Organizing</li>
						<li>Write Directives</li>
						<li>Communication between Controllers</li>
						<li>Performance</li>
						<li>Tools</li>
					</ul>
				</section>

				<!-- Example of nested vertical slides -->
				<section>
					<section>
						<h2>Code Organizing</h2>
						<p>Large app = Many mini apps</p>
					</section>
					<section>
						<h2>Code Organizing : Best Practices</h2>
						<ul>
							<li>Instead of single app, break them into smaller apps</li>
							<li>Use app prefix to directives</li>
							<li>Make the folder structure, by app & type of code</li>
						</ul>
					</section>
					<section>
						<h2>Code Organizing : Suggested Structure</h2>
						<a href="#/2">
							<img data-src="images/code_structure.png">
						</a>
					</section>
					<section>
						<h2>Code Organizing : Sample Code</h2>
						<pre><code data-trim contenteditable>
							var commonApp = angular.module('commonApp', []);
						</code></pre>
						<pre><code data-trim contenteditable>
							var registerApp = angular.module('registerApp', ['commonApp']);
						</code></pre>
						<pre><code data-trim contenteditable>
							var myApp = angular.module('myApp', ['commonApp', 'registerApp'...]);
						</code></pre>
					</section>
				</section>

				<section>
					<section>
						<h2>Write Directives</h2>
						<p>
							Sound like a monster, start with something simple & add complexity!
						</p>
					</section>
					<section>
						<h2>Write Directives : Advantages</h2>
						<ul>
							<li>Increases re-usability & your code is DRY</li>
							<li>Responsible for behaviour, DOM manipulation & generalisation of code</li>
						</ul>
					</section>
					<section>
						<h2>Write Directives : Sample Code (1/3)</h2>
						<pre><code data-trim contenteditable>
<div ng-controller="ColorCtrl">
    <div id="contSlide" class="slideStyle" style="background-color:yellow;" ng-click="animate()">Using Controller</div>
    <br/>
    <slide-section color="color[0]" text="Hello" lapse="2000" reach="200" dir="Left"></slide-section>
    <br/>
    <slide-section color="color[1]" text="This is Faster" lapse="1000" reach="200" dir="Top"></slide-section>
</div>
						</code></pre>
						<pre><code data-trim contenteditable>
communityApp.controller('ColorCtrl', function($scope) {
    $scope.color = ['blue', 'green', 'red'];
    $scope.animate = function(){
        $("#contSlide").animate({
            marginLeft: '+150'
        }, 2000)
        $("#contSlide").animate({
            marginLeft: 0
        }, 2000)
    }
})
						</code></pre>
					</section>
					<section>
						<h2>Writing Directives : Sample Code (2/3)</h2>
						<pre><code data-trim contenteditable>
communityApp.directive('caSlideSection', function(){
    return {
        restrict: 'E',
        template: "<div class='slideStyle' style='background-color:{{color}};' ng-click='animate()'>{{text}}</div>",
        scope: {
            color: "=",
            text: "@",
            lapse: "@",
            reach: "@",
            dir: "@"
        },
        link: function(scope, elm, attr){

          scope.animate = function(){
            elm.find("div").animate(scope.getObj(scope.reach), parseInt(scope.lapse));
            elm.find("div").animate(scope.getObj(0), parseInt(scope.lapse));
          };

          scope.getObj = function(reach){
            var obj = {};
            obj['margin' + scope.dir] = '+' + reach;
            return obj;
          };
        }
    };
});
						</code></pre>
					</section>
					<section>
						<h2>Directives : Demo</h2>
            <a class="jsbin-embed" href="http://jsbin.com/gosuguvake/1/embed?html,js,output">JS Bin on jsbin.com</a>
					</section>
				</section>

				<section>
					<section>
						<h2>Communication between Controllers</h2>
						<p>
							$rootScope is not the best way to share, use Services.
						</p>
					</section>

					<section>
						<h2>Why Services?</h2>
						<ul>
							<li>Helps encapsulate data, in one class & single instance</li>
							<li>Inject the service into required controllers</li>
						</ul>
					</section>

					<section>
						<h2>Services : Sample Code (1/2)</h2>
						<pre><code data-trim contenteditable>
<div ng-controller="DoorCtrl">
    Hi, I am
    <input ng-model="name"/><button ng-click="knock()">Knock knock</button>
</div>

<div ng-controller="GreetCtrl">
    <button ng-click="openDoor()">Open Door</button>
    <div ng-show="name">
        Hello, {{name}}!
    </div>
    <div ng-show="!name">
        Nobody's Home :(
    </div>
</div>
						</code></pre>
						<pre><code data-trim contenteditable>
commonApp.factory('Person', function(){
    var store = {};
    return {
        setName: function(value){
            store.name = value;
        },
        getName: function(key){
            return store.name;
        }
    };
});
						</code></pre>
					</section>
					<section>
						<h2>Services : Sample Code (2/2)</h2>
						<pre><code data-trim contenteditable>
registerApp.controller('DoorCtrl', function($scope, Person) {
    $scope.name = 'Awesome';

    $scope.knock = function(){
        Person.setName($scope.name);
    }
});
						</code></pre>
						<pre><code data-trim contenteditable>
registerApp.controller('GreetCtrl', function($scope, Person) {
    $scope.name = "";

    $scope.openDoor = function(){
        $scope.name = Person.getName();
    }
});
						</code></pre>
					</section>
          <section>
            <h2>Services : Demo</h2>
              <a class="jsbin-embed" href="http://jsbin.com/yosehe/embed?html,js,output">Using Service on jsbin.com</a>
          </section>
				</section>
				<section>
					<section>
						<h2>Performance</h2>
						<p>Write efficient code from day #1, don't think you can optimize after giving a working build</p>
					</section>
					<section>
            <h2>Performance : Tip #1</h2>
            <p>Use 'track by' to avoid unneccessary repaints.</p>
            <a class="jsbin-embed" href="http://jsbin.com/burubu/embed?html,js,output">Track by in ng-repeat on jsbin.com</a>
					</section>
          <section>
            <h2>Performance : Tip #2</h2>
            <p>Clear $watch, $timeout by registering for $destroy.</p>
            <a class="jsbin-embed" href="http://jsbin.com/kidosa/embed?html,js,output">Clear $watch, $timeout by using $destroy on jsbin.com</a>
          </section>
          <section>
            <h2>Performance : Tip #3</h2>
            <p>Use 'bind once', to reduce # of watchers.</p>
            <a class="jsbin-embed" href="http://jsbin.com/ceqapi/embed?html,js,output">Using Bind Once on jsbin.com</a>
          </section>
          <section>
            <h2>Performance : Tip #4</h2>
            <p>ng-if vs ng-show, helps reduce # of DOM elements.</p>
            <a class="jsbin-embed" href="http://jsbin.com/majeke/embed?html,js,output">ng-if vs ng-show on jsbin.com</a>
          </section>
				</section>
        <section>
          <section>
            <h2>Tools</h2>
            <p>To help improve the productivity!</p>
          </section>
          <section>
            <h2>ng-inspector</h2>
            <p>Chrome / Firefox Add-on, helps to look at scope variables.</p>
          </section>
          <section>
            <h2>Yeoman : Generator-Angular</h2>
            <ul>
              <li>yo angular app-name</li>
              <li>yo angular:controller user</li>
            </ul>
          </section>
          <section>
            <h2>Protractor : End to End Testing</h2>
            <ul>
            </ul>
          </section>
        </section>
        <section>
          <h2>Questions?</h2>
        </section>
        <section>
          <h2>Thanks!</h2>
        </section>
			</div>

		</div>

		<script src="lib/js/head.min.js"></script>
		<script src="js/reveal.js"></script>

		<script>

			// Full list of configuration options available at:
			// https://github.com/hakimel/reveal.js#configuration
			Reveal.initialize({
				controls: true,
				progress: true,
				history: true,
				center: true,

				transition: 'slide', // none/fade/slide/convex/concave/zoom

				// Optional reveal.js plugins
				dependencies: [
					{ src: 'lib/js/classList.js', condition: function() { return !document.body.classList; } },
					{ src: 'plugin/markdown/marked.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'plugin/highlight/highlight.js', async: true, condition: function() { return !!document.querySelector( 'pre code' ); }, callback: function() { hljs.initHighlightingOnLoad(); } },
					{ src: 'plugin/zoom-js/zoom.js', async: true },
					{ src: 'plugin/notes/notes.js', async: true }
				]
			});

		</script>
    <script src="http://static.jsbin.com/js/embed.min.js?3.30.3"></script>
	</body>
</html>
